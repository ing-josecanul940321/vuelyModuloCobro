

configuracion visual studio code
https://jonmircha.com/vscode

Habilitar Scripts
https://www.alexmedina.net/habilitar-la-ejecucion-de-scripts-para-powershell/


SELECT f.id_hotel, h.nombre_hotel, h.proveedor,
CASE WHEN f.id_filtro = 1 THEN "Si" END AS Solo_adultos,
CASE WHEN f.id_filtro = 2 THEN "Si" END AS LGBT,
CASE WHEN f.id_filtro = 3 THEN "Si" END AS Parque_acuatico,
CASE WHEN f.id_filtro = 4 THEN "Si" END AS Bar_Restaurant,
CASE WHEN f.id_filtro = 5 THEN "Si" END AS Permite_mascotas,
CASE WHEN f.id_filtro = 6 THEN "Si" END AS Spots_bodas,
CASE WHEN f.id_filtro = 7 THEN "Si" END AS Fte_playa,
CASE WHEN f.id_filtro = 8 THEN "Si" END AS Graduaciones,
CASE WHEN f.id_filtro = 9 THEN "Si" END AS Spa,
CASE WHEN f.id_filtro = 10 THEN "Si" END AS Gym,
CASE WHEN f.id_filtro = 11 THEN "Si" END AS Casino,
CASE WHEN f.id_filtro = 12 THEN "Si" END AS Teatro,
CASE WHEN f.id_filtro = 13 THEN "Si" END AS Restaurante_especialidades,
CASE WHEN f.id_filtro = 14 THEN "Si" END AS Campo_golf,
CASE WHEN f.id_filtro = 15 THEN "Si" END AS Cerca_centro,
desCode0.name as zonas,
zonas0.name AS destino
FROM `tbl_filtro_hoteles` f 
INNER JOIN tbl_filtros fl ON f.id_filtro=fl.id_filtro 
INNER JOIN tbl_hoteles h ON f.id_hotel = h.id_hotel 
LEFT JOIN zonasbeds desCode0 ON h.id_destino=desCode0.idZona
LEFT JOIN destinations zonas0 ON desCode0.destinationsCode=zonas0.code
WHERE zonas0.code='CUN'
GROUP BY f.id_hotel

SELECT f.id_hotel, h.nombre_hotel, h.proveedor,
IF(f.id_filtro=1,"Si","") AS Solo_adultos,
IF(f.id_filtro=2,"Si","") AS LGBT,
IF(f.id_filtro=3,"Si","") AS Parque_acuatico,
IF(f.id_filtro=4,"Si","") AS Bar_Restaurant,
IF(f.id_filtro=5,"Si","") AS Permite_mascotas,
IF(f.id_filtro=6,"Si","") AS Spots_bodas,
IF(f.id_filtro=7,"Si","") AS Fte_playa,
IF(f.id_filtro=8,"Si","") AS Graduaciones,
IF(f.id_filtro=9,"Si","") AS Spa,
IF(f.id_filtro=10,"Si","") AS Gym,
IF(f.id_filtro=11,"Si","") AS Casino,
IF(f.id_filtro=12,"Si","") AS Teatro,
IF(f.id_filtro=13,"Si","") AS Restaurante_especialidades,
IF(f.id_filtro=14,"Si","") AS Campo_golf,
IF(f.id_filtro=15,"Si","") AS Cerca_centro,
desCode0.name as zonas,
zonas0.name AS destino
FROM `tbl_filtro_hoteles` f 
INNER JOIN tbl_filtros fl ON f.id_filtro=fl.id_filtro 
INNER JOIN tbl_hoteles h ON f.id_hotel = h.id_hotel 
LEFT JOIN zonasbeds desCode0 ON h.id_destino=desCode0.idZona
LEFT JOIN destinations zonas0 ON desCode0.destinationsCode=zonas0.code
WHERE zonas0.code='CUN'
GROUP BY f.id_hotel


switch(json_last_error()) {
case JSON_ERROR_NONE:
echo ' - Sin errores';
break;
case JSON_ERROR_DEPTH:
echo ' - Excedido tamaño máximo de la pila';
break;
case JSON_ERROR_STATE_MISMATCH:
echo ' - Desbordamiento de buffer o los modos no coinciden';
break;
case JSON_ERROR_CTRL_CHAR:
echo ' - Encontrado carácter de control no esperado';
break;
case JSON_ERROR_SYNTAX:
echo ' - Error de sintaxis, JSON mal formado';
break;
case JSON_ERROR_UTF8:
echo ' - Caracteres UTF-8 malformados, posiblemente codificados de forma incorrecta';
break;
default:
echo ' - Error desconocido';
break;
}


################################
laravel
composer create-project --prefer-dist laravel/laravel project-tornillos
################################

###############################
yii
--- carpeta de yii descomprimida --- webapp --- lugar de proyecto ---
YiiRoot/framework/yiic webapp WebRoot/testdrive
###############################


###############################
yii2
composer create-project --prefer-dist yiisoft/yii2-app-basic basic

***** https://github.com/yiisoft/yii2/tree/master/framework
###############################


##############################
reactjs
npx create-react-app my-app
##############################


Proyectos de vue

laravel + vue
https://www.youtube.com/watch?v=UzegdHgNEF4

reactjs
https://www.youtube.com/watch?v=zIY87vU33aA&t=2s VISTO
https://www.udemy.com/course/curso-react-js/ ---> https://www.youtube.com/watch?v=jST6YFZJ2b0&list=PLPl81lqbj-4KswGEN6o4lF0cscQalpycD&index=2

reactjs redux
https://www.youtube.com/watch?v=HhtqSwUgP1U&t=176s VISTO


curso git
https://www.youtube.com/watch?v=HiXLkL42tMU

https://vuely.theironnetwork.org/default/chat


--- quitar la tabla del fondo de cuenta y agarrar la suma total  RESUELTO

--- total / tipo cambio RESUELTO

--- reservas en dolares RESUELTO

--- tipo de cambio en orden de pago RESUELTO

--- tabla polizas RESUELTO

--- cancelar ordenes detalles RESUELTO

--- editar y eliminar Ordenes. RESUELTO

--- enviar agencia en el buscador, retornare error RESUELTO


Como regreso a la pantalla anterior sin perder lo agregado al tpv, al darle en la x de cerrar o cancelar entonces me debe permitir no perder la orden  RESUELTO

Daniel comento que si ya no puedes seguir pagando el saldo cuando es pago mixto, que te permita regresar a editar la orden para cambiar los importes a pagar. RESUELTO

Resaltar el botón de pagar con color verde RESUELTO

Si el producto que seleccione es una cuenta de fondo, ocultar el botón de pago con cuenta de fondo. RESUELTO

Puedes cambiar el botón de facturar en vez de un select que sea radio o algo más interactivo visible RESUELTO

Resalta los importes de total y saldo, tal vez negrita y letras mas grandes.  RESUELTO

Acento en tipo reservación y vinculo al identificador que abra en nueva pestaña el producto.  RESUELTO

Si busco el producto pero no escojo agencia, no sé a qué agencia pertenece el producto necesitamos que jale de que agencia es el producto y técnicamente Omar no puede cobrar dos productos de diferentes agencias. RESUELTO

Checa en bloqueos el saldo esta mal. RESUELTO

si intentas pagar sale una cantidad que no es, como que se esta acumulando RESUELTO

facturar comprobantes si lo permite RESUELTO

--- eliminar detalle, cancelar orden de pago RESUELTO ****

--- cancelar un comprobante **** text-field motivo cancelacion --- pendiente mientras si se aprueba que se cancela o no

--- tabla polizas RESUELTO ***** mientras se agrega mas opciones

--- ejecutar proyecto hadasa RESUELTO


convertir el signo de peso de agregar cuenta en boton mas visible RESUELTO

ver comprobantes -- quitar mientras 'cancelar comprobante' RESUELTO

correr proyecto hadasa RESUELTO

reservar en proyecto hadasa 

reservas en tripulante web / pasar apis


will
quitar de skip tour
poner logo de rutamaya
ver como funciona la sesion
submenu en el usuario john leider sesion 
-- sur4
-- sur4/admin
-- tipo de cambio yo lo agrego
-- cerrar sesion

 

--- bloqueo saldo 100%

*************

--- modal de todos los productos (pendiente de vista) 

--- tabla de saldos en bodas y grupos RESUELTO


************

---- agregar preloader en tripulante web

---- reservar en tripulante web (mostrar cupon y enviar correo a la persona que lo hizo)

---- sesion del cotizador para no perder los datos

fecha_gasto --- cuando estatus es pagado, la fecha_gasto actualiza, mientras es null

https://adrianalonso.es/cajon-desatre/convencion-de-nombres-desde-el-camelcase-hasta-el-kebab-case/
https://es.vuejs.org/v2/guide/components-custom-events.html ----> $emit vue

vuex
https://www.smashingmagazine.com/2020/01/data-components-vue-js/
https://code.tutsplus.com/es/tutorials/how-to-build-complex-large-scale-vuejs-applications-with-vuex--cms-30952

webpack
https://carlosazaustre.es/primeros-pasos-con-webpack/
https://styde.net/introduccion-a-vue-cli-y-webpack/
https://medium.com/@piethein/how-to-combine-vuejs-router-with-laravel-1226acd73ab0

Ecmascript
https://www.youtube.com/watch?v=-uuRcXxP9O0

socket.io reactjs node en ingles
https://www.youtube.com/watch?v=ZwFA3YMfkoc 39:00

ionic ejemplo
https://fernandoruizrico.com/lista-de-tareas-con-ionic-4-angular/
https://www.techiediaries.com/ionic-http-post/
https://blog.maestriajs.com/blog/ionic/conectar-api-con-ionic/
https://medium.com/ampersand-academy/ionic-4-modal-example-da9694fa0f53
https://www.freakyjolly.com/ionic-modal-popovers-pass-receive-data/#.Xry4XWhKjIU
https://blog.maestriajs.com/blog/tips/lifecycle-ionic/  ---> ciclo de vida de un componente en ionic

pasar ionic a android
https://www.youtube.com/watch?v=81bsliZCj7E

pakage excel vue
https://www.npmjs.com/package/vue-json-excel

carpeta provider en ionic
"extends": "tslint:recommended",

code .	 ---> abrir por terminal la actual carpeta en visual code

async-await --> modo asincrono-espera 
https://www.youtube.com/watch?v=Q3HtXuDEy5s curso flujo de procesos
https://medium.com/@balramchavan/using-async-await-feature-in-angular-587dd56fdc77


rmt si si
beds si
ob si
do si
riu si
dingus si si

la casona real cozumel 18/06/2020 a 23/06/2020 2 habs 4 adultos

ratecomments
offers
promociones
ratekey

grupo habitaciones --- pendiente

######vista movil#######
validar usuario para ciertas agencias RESUELTO
validar campos vacios RESUELTO
nombre habitacion RESUELTO
acepto terminos y condiciones RESUELTO
agregar RESUELTO
***ratecomments RESUELTO
***offers RESUELTO
***promociones RESUELTO
vista cupon RESUELTO
calendario en vista
reparar login
loader en lugares donde es necesario RESUELTO
************************************************


********** cada orden de pago ******************
cada orden de pago se crea una poliza RESUELTO
detalle cont mov poliza son todos los servicios y todas las formas de pago RESUELTO

-- cargo
cuenta caja (efectivo)
cuenta banco (cheque, deposito, tarjeta credito, debito) en los movimientos poliza se pone con la comision si tiene

-- abono
comision bancaria comision del pago
cuentas por cobrar (reservas, activitys)

¿si es una orden pendiente? ¿guardo una poliza con abono pero no cargo? R: no creo la poliza 
¿saldo a favor al pagar una cuenta? R: agrego una cuenta de fondo
¿cancelo o elimino una order detalle, actualizo el importe de la poliza y elimino los movimientos y los vuelvo a insertar? R: agrego una cuenta de fondo

agregar poliza en orden_pago RESUELTO
reparar cuartos grupos en modulo cobro RESUELTO
movimientos en tabla poliza --> sera el pdf RESUELTO
editar en tabla poliza ---> pendiente
cancelo orden ---> pendiente

agregar solo una cuenta de fondo 	RESUELTO
combinar articulos 		RESUELTO
guardar poliza con combinacion cuenta-articulos 	RESUELTO
consulta tarjeta de credito 	RESUELTO
loader en todos los articulos 	RESUELTO

poner en reservas etc los pagos 	RESUELTO
poliza en gastos 		RESUELTO
multiplicar por -1 en pago poliza 		RESUELTO
cuando la agencia paga tarifa publica 6787.50 		RESUELTO
tabla ordenes de pago filtrar por cuenta depende del banco 		RESUELTO
saldobloqueo ppv checar precio real 		RESUELTO

subir cambios a vuely RESUELTO
¿tipo de cambio de acuerdo a la reserva o al tipo de cambio del dia? -- pendiente
**********************************************

********* modulo cobro ***********************
tablas a sur4
cont_catalogo_ctas checar primero datos LISTO
cont_acumulado LISTO
cont_mov_poliza	LISTO
cont_poliza 	LISTO
tbl_comprobantesPago_files LISTO
tbl_fe_facturas --> agregar un nuevo tipo_nota = comprobante 	LISTO
tbl_tipo_pago ---> agregar un nuevo tipo = CUENTA DE FONDO 	LISTO
tbl_orden_pago 	LISTO
tbl_orden_pago_detalles 	LISTO
tbl_comprobantes_pago ---> campo tipo_formato y num_comprobante 	LISTO
tbl_operaciones_log ---> nuevos datos 	LISTO
tbl_gasto_general ---> agrega id_catalogo_cuenta e id_poliza 	LISTO 09/06/2020 8:43
tbl_orden_compra 	LISTO
tbl_orden_compra_detalles 	LISTO

configurar main en protected/config y agregar el modulo contabilidad sur4/admin 	LISTO
vista de facturas/controlador (fefacturascontroller,facturasCfdicontroller) ---> sur4 		LISTO
pasar model ---> comprobantePago en sur4 		LISTO
model comprobantepago_files a sur4 			LISTO
pasar model ordenpago y ordenpagodetalles a sur4 		LISTO	
bloqueoscontroller function noches poner en public sur4/admin 		LISTO
operacioneslog poner los nuevos id 								LISTO
model cont_mov_poliza --> campo cuenta lenght ---> campo descripcion text sur4/admin 	LISTO
reservascontroller function consultaordendetalles sur4 			LISTO
model cont_catalogo_ctas ---> campo cuenta lenght sur4/admin 		LISTO
model orden_compra y orden_compra_detalles a sur4/admin 		LISTO

views reservacion ---> pagoscupon 			admin/pagoscupon 	LISTO
views tourReservacion ---> pagoscupon 		admin/pagoscupon 	LISTO
views activities ---> pagoscupon 			admin/pagoscupon	LISTO

views bloqueos ----> views,notascredito    	admin/widgetrooming 		LISTO
bloqueoscontroller sur4 			LISTO
bloqueo_detalle_vue js sur4 		LISTO

gastosgeneralcontroller function create sur4/admin 		LISTO
model GastoGeneral relations catalog_ctas sur4/admin 	LISTO
views gastoGeneral index sur4/admin 		LISTO
gastosGenerales.js sur4/admin 		LISTO

hotelescontroller function busquedahoteles 		sur4/admin 		LISTO

vuely cambiar ruta en vue.config, router/index.js, constants/appconfig.js, main.js a surcaja
***************************************************

****** controladores movil ************************
reservacioncontroller createdesglosermt
sitecontroller condicion userid
agenciascontroller condicion agenciausuario
***************************************************

https://www.youtube.com/watch?v=nQ498PINsws
https://www.youtube.com/watch?v=81bsliZCj7E&t=144s  ----> ionic a android
https://evothings.com/doc/build/cordova-install-windows.html  ---> tutorial
https://es.stackoverflow.com/questions/318250/no-puedo-exportar-un-apk-en-ionic-5-4-10-error-gradle

documentos por pagar tipo diario D 
cada que se crea un bloqueo se crea una poliza en cargo con el precio aproximado

https://www.rutamayatravel.com/sur45/admin/contabilidad/comprobantesPago/polizasAgencia/agencia/8

movimiento
* cuando paga con cuenta de fondo 		RESUELTO
* tipo movimiento o recibo / folio consecutivo 		RESUELTO

cancelar reservacion christian
* comprobante de movimiento 	RESUELTO
* se genera una nota de credito, un comprobante movimiento y el dinero se va a la cuenta de FONDO 		RESUELTO
* la nota de credito nunca se va cancelar aun utilizado el dinero porque los movimientos se haran en la cuenta de fondo 	RESUELTO

pago de comisiones
* poliza de egreso - devolucion de comision agencia 		RESUELTO
* cargo-cuenta 			RESUELTO
* concepto pago de comisiones 		RESUELTO 

tours
* tours todos o por filtros 		RESUELTO

pago a hotel
* poliza - cargo 		RESUELTO
* ¿ como se paga en bloqueos ? todo el saldo 		RESUELTO
* ¿ nueva tabla en orden pago ? si 				RESUELTO
* comision 0						RESUELTO
* resetear campos cuando cambia de modulo y pagar_a 	RESUELTO

pdf
* switchear PDF 			RESUELTO
* pdf poliza de egreso		RESUELTO
* pdf firma movimientos		RESUELTO/PENDIENTE FIRMA

* bug precio restante al actualizar pago 		RESUELTO
* bug pagar precio mayor al indicado 		RESUELTO
* descripcion en cargo-cuenta editable 		RESUELTO

* https://www.rutamayatravel.com/sur4/site/tours.html?destino=t_60&num_adultos=1&num_ninios=1&fecha_entrada=03%2F08%2F2020&num_edad%5Bedad_1%5D=8 
tooltip en restriccion 				RESUELTO

* si pago con cuenta de fondo solo una parte de una reserva, el campo fondo de cuenta se borra, deberia aparecer el saldo menos lo ya pagando 				RESUELTO
* cuando busco tours en buscartodo no debe aparecer bloqueos,etc en loading solo tabla reservas 		RESUELTO

* descripcion en orden de compra a hoteles y tours porque tiene lo mismo en orden de pago ?? 	
* el saldo hotel en bloqueos 		RESUELTO

cupones
* en cupones/servicios poner tabla de pago al hotel y abono de agencias 		RESUELTO


* ordenes de compra tabla revisar que funcione todo 		RESUELTO

* descomprimir dist.zip en surcaja, ya se subió 		RESUELTO
* contcatalogocuentas cambios a sur4  				RESUELTO
* edocuenta agregar pagos pago/compra edocuenta/id/1743

* corregir bug al cambiar el modulo, aparece mensaje al cambiar modulo si hay una orden vigente, pero si pongo cancelar el modulo se mantiene cambiado, debe regresar al anterior modulo.
* probar pagar con una agencia que aun no esta registrado en el catalogo de cuentas (debe crear la agencia en el catalogo)

* movil
* openpay


https://www.rutamayatravel.com/sur45/logOpenpay/crearPagoTest/ordenID/75

PRODUCCION
openpay
jorgevadillo@rutamayatravel.com
RMTopy2020.


PRUEBAS
openpay
jorgevadillo@rutamayatravel.com
Opy2020RMT.

SET @a = 0;  
UPDATE tbl_comprobantes_pago SET num_comprobante = @a:=@a+1 WHERE tipo_formato='recibo';

Analisis de datos
leaflet
amCharts


https://parzibyte.me/blog/2018/05/03/filtrar-arreglos-javascript-like-sql/






*************************************** NEWS **********************************




